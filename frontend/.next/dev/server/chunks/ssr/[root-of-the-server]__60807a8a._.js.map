{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/frontend/lib/directus.ts"],"sourcesContent":["import { createDirectus, rest, staticToken } from '@directus/sdk';\n\n// Use /api instead of localhost:8055 - goes through Next.js proxy\nconst directus = createDirectus(process.env.NEXT_PUBLIC_DIRECTUS_URL || 'http://localhost:5000')\n    .with(process.env.NEXT_PUBLIC_DIRECTUS_TOKEN ? staticToken(process.env.NEXT_PUBLIC_DIRECTUS_TOKEN) : (client) => client)\n    .with(rest());\n\nexport default directus;\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;;AAEA,kEAAkE;AAClE,MAAM,WAAW,IAAA,qKAAc,EAAC,6DAAwC,yBACnE,IAAI,CAAC,QAAQ,GAAG,CAAC,0BAA0B,GAAG,IAAA,0KAAW,EAAC,QAAQ,GAAG,CAAC,0BAA0B,IAAI,CAAC,SAAW,QAChH,IAAI,CAAC,IAAA,uKAAI;uCAEC"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/frontend/lib/assets.ts"],"sourcesContent":["/**\n * Asset URL helper\n * Centralizes all asset URL generation for scalability\n * As Directus adds more resources, this single function handles all URLs\n */\n\nconst DIRECTUS_URL = process.env.NEXT_PUBLIC_DIRECTUS_URL || 'http://localhost:5000';\n\nexport function getAssetUrl(assetId?: string | null): string | null {\n  if (!assetId) return null;\n  \n  // Using proxy through frontend - all requests go through port 5000\n  return `${DIRECTUS_URL}/assets/${assetId}`;\n}\n\n/**\n * Extract asset ID from Directus file object\n * Handles both direct IDs and expanded file objects\n */\nexport function extractAssetId(\n  fileData?: string | { id: string } | null\n): string | null {\n  if (!fileData) return null;\n  \n  // If it's a string (direct ID)\n  if (typeof fileData === 'string') {\n    return fileData;\n  }\n  \n  // If it's an object with id property (expanded file)\n  if (typeof fileData === 'object' && fileData.id) {\n    return fileData.id;\n  }\n  \n  return null;\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;AAED,MAAM,eAAe,6DAAwC;AAEtD,SAAS,YAAY,OAAuB;IACjD,IAAI,CAAC,SAAS,OAAO;IAErB,mEAAmE;IACnE,OAAO,GAAG,aAAa,QAAQ,EAAE,SAAS;AAC5C;AAMO,SAAS,eACd,QAAyC;IAEzC,IAAI,CAAC,UAAU,OAAO;IAEtB,+BAA+B;IAC/B,IAAI,OAAO,aAAa,UAAU;QAChC,OAAO;IACT;IAEA,qDAAqD;IACrD,IAAI,OAAO,aAAa,YAAY,SAAS,EAAE,EAAE;QAC/C,OAAO,SAAS,EAAE;IACpB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/frontend/app/equipe/page.tsx"],"sourcesContent":["import directus from '@/lib/directus';\nimport { readItems } from '@directus/sdk';\nimport { getAssetUrl } from '@/lib/assets';\n\ntype TeamMember = {\n  id: number;\n  first_name: string;\n  last_name: string;\n  full_name?: string | null;\n  role_title?: string | null;\n  category?: string | null;\n  sort?: number | null;\n  image?: string | null; // directus_files id\n};\n\nexport const revalidate = 300; // revalidate every 5 minutes\n\nasync function fetchTeam(): Promise<TeamMember[]> {\n  try {\n    const items = await directus.request(\n      readItems('team_members', {\n        fields: ['id', 'first_name', 'last_name', 'full_name', 'role_title', 'category', 'sort', 'image'],\n        sort: ['sort', 'last_name', 'first_name'],\n      })\n    );\n    return (items as TeamMember[]) || [];\n  } catch (e) {\n    console.warn('Failed to fetch team members', e);\n    return [];\n  }\n}\n\nfunction groupByCategory(members: TeamMember[]) {\n  return members.reduce<Record<string, TeamMember[]>>((acc, member) => {\n    const key = member.category || 'Autres';\n    acc[key] = acc[key] || [];\n    acc[key].push(member);\n    return acc;\n  }, {});\n}\n\n\nexport default async function EquipePage() {\n  const members = await fetchTeam();\n  const grouped = groupByCategory(members);\n  const categoriesOrder = ['Bureau', \"Membres du Conseil d'Administration\"];\n  const orderedCategories = [\n    ...categoriesOrder.filter((c) => grouped[c]),\n    ...Object.keys(grouped).filter((c) => !categoriesOrder.includes(c)),\n  ];\n\n  return (\n    <>\n      <section className=\"page-header\">\n        <div className=\"container\">\n          <h1 className=\"page-title\">Notre équipe</h1>\n          <p className=\"page-subtitle\">Le conseil d&apos;administration de Volontaires français</p>\n        </div>\n      </section>\n\n      <section className=\"team\">\n        <div className=\"container\">\n          <div className=\"team-intro\">\n            <p>\n              Notre conseil d&apos;administration est composé de volontaires passionnés et engagés, dédiés à la mission\n              de rassembler, soutenir et valoriser la communauté des volontaires français des Jeux Olympiques et\n              Paralympiques.\n            </p>\n          </div>\n\n          {!members.length && <p>Aucun membre enregistré pour le moment.</p>}\n\n          {orderedCategories.map((category) => (\n            <div className=\"team-section\" key={category}>\n              <h2 className=\"section-title\">{category}</h2>\n              <div className=\"team-grid\">\n                {grouped[category].map((member) => {\n                  const photo = getAssetUrl(member.image);\n                  const name = member.full_name || `${member.first_name} ${member.last_name}`;\n                  return (\n                    <div className=\"team-card\" key={member.id}>\n                      <div className=\"team-photo\">\n                        {photo ? (\n                          <img src={photo} alt={name} />\n                        ) : (\n                          <div className=\"team-photo-placeholder\">{name.slice(0, 1)}</div>\n                        )}\n                      </div>\n                      <div className=\"team-info\">\n                        <h3 className=\"team-name\">{name}</h3>\n                        {member.role_title && <p className=\"team-role\">{member.role_title}</p>}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          ))}\n        </div>\n      </section>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;;;;;AAaO,MAAM,aAAa,KAAK,6BAA6B;AAE5D,eAAe;IACb,IAAI;QACF,MAAM,QAAQ,MAAM,0HAAQ,CAAC,OAAO,CAClC,IAAA,2LAAS,EAAC,gBAAgB;YACxB,QAAQ;gBAAC;gBAAM;gBAAc;gBAAa;gBAAa;gBAAc;gBAAY;gBAAQ;aAAQ;YACjG,MAAM;gBAAC;gBAAQ;gBAAa;aAAa;QAC3C;QAEF,OAAO,AAAC,SAA0B,EAAE;IACtC,EAAE,OAAO,GAAG;QACV,QAAQ,IAAI,CAAC,gCAAgC;QAC7C,OAAO,EAAE;IACX;AACF;AAEA,SAAS,gBAAgB,OAAqB;IAC5C,OAAO,QAAQ,MAAM,CAA+B,CAAC,KAAK;QACxD,MAAM,MAAM,OAAO,QAAQ,IAAI;QAC/B,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,EAAE;QACzB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACd,OAAO;IACT,GAAG,CAAC;AACN;AAGe,eAAe;IAC5B,MAAM,UAAU,MAAM;IACtB,MAAM,UAAU,gBAAgB;IAChC,MAAM,kBAAkB;QAAC;QAAU;KAAsC;IACzE,MAAM,oBAAoB;WACrB,gBAAgB,MAAM,CAAC,CAAC,IAAM,OAAO,CAAC,EAAE;WACxC,OAAO,IAAI,CAAC,SAAS,MAAM,CAAC,CAAC,IAAM,CAAC,gBAAgB,QAAQ,CAAC;KACjE;IAED,qBACE;;0BACE,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAa;;;;;;sCAC3B,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;0BAIjC,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;0CAAE;;;;;;;;;;;wBAOJ,CAAC,QAAQ,MAAM,kBAAI,8OAAC;sCAAE;;;;;;wBAEtB,kBAAkB,GAAG,CAAC,CAAC,yBACtB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAiB;;;;;;kDAC/B,8OAAC;wCAAI,WAAU;kDACZ,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;4CACtB,MAAM,QAAQ,kIAAY,OAAO,KAAK;4CACtC,MAAM,OAAO,OAAO,SAAS,IAAI,GAAG,OAAO,UAAU,CAAC,CAAC,EAAE,OAAO,SAAS,EAAE;4CAC3E,qBACE,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACZ,sBACC,8OAAC;4DAAI,KAAK;4DAAO,KAAK;;;;;iFAEtB,8OAAC;4DAAI,WAAU;sEAA0B,KAAK,KAAK,CAAC,GAAG;;;;;;;;;;;kEAG3D,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAG,WAAU;0EAAa;;;;;;4DAC1B,OAAO,UAAU,kBAAI,8OAAC;gEAAE,WAAU;0EAAa,OAAO,UAAU;;;;;;;;;;;;;+CAVrC,OAAO,EAAE;;;;;wCAc7C;;;;;;;+BArB+B;;;;;;;;;;;;;;;;;;AA6B/C"}}]
}